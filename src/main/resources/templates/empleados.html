<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dash Flow - Control de Finanzas</title>

    <!-- Icons de Google -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp">

    <!-- CSS Externo -->
    <link rel="stylesheet" href="./css/pedidos.css">

    <script defer src="./js/script.js"></script>
</head>

<body>

    <div class="container-JE">

        <!-- INICIO DE LA BARRA DE NAVEGACIÓN -->

        <aside class="aside-JE">
            <div class="top-JE">

                <div class="logo-JE">
                    <img class="img-JE" src="./images/logo-dashboard.png" alt="logo">
                    <h2 class="h2-JE">DASH <span class="peligro-JE">FLOW</span></h2>
                </div>

                <div class="close-JE" id="close-btn-JE">
                    <span class="material-icons-sharp">close</span>
                </div>

            </div>


            <div class="sidebar-JE">

                <a th:href="@{/dashboard}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">dashboard</span>
                    <h3 class="h3-JE">Dashboard</h3>
                </a>

                <a th:href="@{/cuenta}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">person_outline</span>
                    <h3 class="h3-JE">Cuenta</h3>
                </a>

                <a th:href="@{/productos}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">inventory</span>
                    <h3 class="h3-JE">Productos</h3>
                </a>

                <a th:href="@{/ingresos}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">insights</span>
                    <h3 class="h3-JE">Flujo de Ingresos</h3>
                </a>

                <a th:href="@{/pedidos}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">list_alt</span>
                    <h3 class="h3-JE">Pedidos</h3>
                    <span class="message-count-danger-JE">26</span>
                </a>

                <a th:href="@{/empleados}" class="hipervinculo-JE active-JE">
                    <span class="material-icons-sharp">badge</span>
                    <h3 class="h3-JE">Empleados</h3>
                </a>

                <a th:href="@{/tiers}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">workspace_premium</span>
                    <h3 class="h3-JE">Tiers</h3>
                    <span class="message-count-success-JE">Free</span>
                </a>

                <a th:href="@{/reportes}" class="hipervinculo-JE">
                    <span class="material-icons-sharp">error_outline</span>
                    <h3 class="h3-JE">Reportes</h3>
                </a>

                <form id="logoutForm" th:action="@{/logout}" method="post" style="display:none;"></form>
                <a onclick="document.getElementById('logoutForm').submit();" class="hipervinculo-JE" style="cursor: pointer;">
                    <span class="material-icons-sharp">logout</span>
                    <h3 class="h3-JE">Salir</h3>
                </a>

            </div>
        </aside>

        <!-- FIN DE LA BARRA DE NAVEGACIÓN -->

        <main class="main-JE">

            <div class="page-header-JE">
                <h1 class="h1-JE">Gestión de Empleados</h1>
            </div>

            <div class="products-tabs-JE">
                <div class="tab-header-JE">
                    <div class="tab-item-JE active-tab-JE" data-tab="dashboard">
                        <span class="material-icons-sharp">analytics</span>
                        <h3 class="h3-JE">Dashboard</h3>
                    </div>
                    <div class="tab-item-JE" data-tab="employees">
                        <span class="material-icons-sharp">group</span>
                        <h3 class="h3-JE">Lista de Empleados</h3>
                    </div>
                    <div class="tab-item-JE" data-tab="form">
                        <span class="material-icons-sharp">person_add</span>
                        <h3 class="h3-JE">Agregar/Editar Empleado</h3>
                    </div>
                </div>

                <div class="tab-content-JE">

                    <div class="tab-pane-JE active-pane-JE" id="dashboard">

                        <div class="stats-grid-JE">
                            <div class="stat-card-JE">
                                <div class="stat-icon-JE">
                                    <span class="material-icons-sharp">people</span>
                                </div>
                                <div class="stat-content-JE">
                                    <h3 class="h3-JE">Total Empleados</h3>
                                    <h2 class="h2-JE">85</h2>
                                    <p class="p-JE exito-JE">+5 nuevos este año</p>
                                </div>
                            </div>

                            <div class="stat-card-JE">
                                <div class="stat-icon-JE">
                                    <span class="material-icons-sharp">work</span>
                                </div>
                                <div class="stat-content-JE">
                                    <h3 class="h3-JE">Activos</h3>
                                    <h2 class="h2-JE">78</h2>
                                    <p class="p-JE exito-JE">91.8% de la plantilla</p>
                                </div>
                            </div>

                            <div class="stat-card-JE">
                                <div class="stat-icon-JE">
                                    <span class="material-icons-sharp">schedule</span>
                                </div>
                                <div class="stat-content-JE">
                                    <h3 class="h3-JE">Vacaciones</h3>
                                    <h2 class="h2-JE">7</h2>
                                    <p class="p-JE advertencia-JE">Programados para el mes</p>
                                </div>
                            </div>

                            <div class="stat-card-JE">
                                <div class="stat-icon-JE">
                                    <span class="material-icons-sharp">person_off</span>
                                </div>
                                <div class="stat-content-JE">
                                    <h3 class="h3-JE">Inactivos/Ausentes</h3>
                                    <h2 class="h2-JE">3</h2>
                                    <p class="p-JE peligro-JE">Revisar</p>
                                </div>
                            </div>
                        </div>

                        <div class="featured-products-JE">
                            <h2 class="h2-JE">Departamentos Principales</h2>

                            <div class="featured-grid-JE">

                                <div class="featured-card-JE">
                                    <div class="featured-header-JE">
                                        <div class="featured-badge-JE week-JE">
                                            <span class="material-icons-sharp">bar_chart</span>
                                            Mayor Empleados
                                        </div>
                                    </div>
                                    <div class="product-image-JE">
                                        <img src="/placeholder.svg?height=120&width=120" alt="Ventas">
                                    </div>
                                    <div class="product-info-JE">
                                        <h3 class="h3-JE">Ventas</h3>
                                        <p class="p-JE text-muted-JE">Rol: Comercial</p>
                                        <div class="product-stats-JE">
                                            <div class="stat-JE">
                                                <span class="material-icons-sharp">group</span>
                                                <span>25 empleados</span>
                                            </div>
                                            <div class="stat-JE">
                                                <span class="material-icons-sharp">trending_up</span>
                                                <span>+10% rendimiento</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="featured-card-JE">
                                    <div class="featured-header-JE">
                                        <div class="featured-badge-JE month-JE">
                                            <span class="material-icons-sharp">support_agent</span>
                                            Alta Interacción
                                        </div>
                                    </div>
                                    <div class="product-image-JE">
                                        <img src="/placeholder.svg?height=120&width=120" alt="Atención al Cliente">
                                    </div>
                                    <div class="product-info-JE">
                                        <h3 class="h3-JE">Atención al Cliente</h3>
                                        <p class="p-JE text-muted-JE">Rol: Soporte</p>
                                        <div class="product-stats-JE">
                                            <div class="stat-JE">
                                                <span class="material-icons-sharp">group</span>
                                                <span>18 empleados</span>
                                            </div>
                                            <div class="stat-JE">
                                                <span class="material-icons-sharp">star</span>
                                                <span>4.8/5 satisfacción</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>

                    <div class="tab-pane-JE" id="employees">

                        <div class="filters-section-JE">
                            <div class="search-box-JE">
                                <span class="material-icons-sharp">search</span>
                                <input type="text" placeholder="Buscar empleados..." id="searchInput">
                            </div>

                            <div class="filters-JE">
                                <select id="departmentFilter">
                                    <option value="">Todos los departamentos</option>
                                    <option value="ventas">Ventas</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="recursos_humanos">Recursos Humanos</option>
                                    <option value="operaciones">Operaciones</option>
                                </select>

                                <select id="statusFilter">
                                    <option value="">Todos los estados</option>
                                    <option value="activo">Activo</option>
                                    <option value="vacaciones">Vacaciones</option>
                                    <option value="ausente">Ausente</option>
                                    <option value="inactivo">Inactivo</option>
                                </select>

                                <button class="btn-secondary-JE" id="clearFilters">
                                    <span class="material-icons-sharp">clear</span>
                                    Limpiar
                                </button>
                            </div>
                        </div>

                        <div class="products-table-JE">
                            <table id="employeesTable">
                                <thead>
                                    <tr>
                                        <th>
                                            <input type="checkbox" id="selectAll">
                                        </th>
                                        <th>Foto</th>
                                        <th>Nombre Completo</th>
                                        <th>Puesto</th>
                                        <th>Departamento</th>
                                        <th>Email</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="employeesTableBody">
                                    <tr>
                                        <td><input type="checkbox" class="employee-checkbox"></td>
                                        <td><img src="./images/profile-2.jpg" alt="Foto" width="40" height="40"
                                                style="border-radius: 50%;"></td>
                                        <td>Carlos Ruiz</td>
                                        <td>Gerente de Ventas</td>
                                        <td>Ventas</td>
                                        <td>carlos.r@empresa.com</td>
                                        <td><span class="status-badge exito-JE">Activo</span></td>
                                        <td>
                                            <button class="btn-action-JE edit-btn"><span
                                                    class="material-icons-sharp">edit</span></button>
                                            <button class="btn-action-JE delete-btn"><span
                                                    class="material-icons-sharp">delete</span></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="employee-checkbox"></td>
                                        <td><img src="./images/profile-3.jpg" alt="Foto" width="40" height="40"
                                                style="border-radius: 50%;"></td>
                                        <td>Laura Mendoza</td>
                                        <td>Diseñadora Gráfica</td>
                                        <td>Marketing</td>
                                        <td>laura.m@empresa.com</td>
                                        <td><span class="status-badge advertencia-JE">Vacaciones</span></td>
                                        <td>
                                            <button class="btn-action-JE edit-btn"><span
                                                    class="material-icons-sharp">edit</span></button>
                                            <button class="btn-action-JE delete-btn"><span
                                                    class="material-icons-sharp">delete</span></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="employee-checkbox"></td>
                                        <td><img src="./images/profile-4.jpg" alt="Foto" width="40" height="40"
                                                style="border-radius: 50%;"></td>
                                        <td>Pedro Castro</td>
                                        <td>Analista de RRHH</td>
                                        <td>Recursos Humanos</td>
                                        <td>pedro.c@empresa.com</td>
                                        <td><span class="status-badge exito-JE">Activo</span></td>
                                        <td>
                                            <button class="btn-action-JE edit-btn"><span
                                                    class="material-icons-sharp">edit</span></button>
                                            <button class="btn-action-JE delete-btn"><span
                                                    class="material-icons-sharp">delete</span></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="pagination-JE">
                            <button class="pagination-btn-JE" id="prevPage">
                                <span class="material-icons-sharp">chevron_left</span>
                            </button>
                            <div class="pagination-info-JE">
                                <span>Página <span id="currentPage">1</span> de <span id="totalPages">5</span></span>
                            </div>
                            <button class="pagination-btn-JE" id="nextPage">
                                <span class="material-icons-sharp">chevron_right</span>
                            </button>
                        </div>

                        <div class="bulk-actions-JE" id="bulkActions" style="display: none;">
                            <div class="bulk-info-JE">
                                <span id="selectedCount">0</span> empleados seleccionados
                            </div>
                            <div class="bulk-buttons-JE">
                                <button class="btn-secondary-JE" id="bulkActivate">
                                    <span class="material-icons-sharp">check_circle</span>
                                    Activar
                                </button>
                                <button class="btn-secondary-JE" id="bulkDeactivate">
                                    <span class="material-icons-sharp">cancel</span>
                                    Desactivar
                                </button>
                                <button class="btn-danger-JE" id="bulkDelete">
                                    <span class="material-icons-sharp">delete</span>
                                    Eliminar
                                </button>
                            </div>
                        </div>

                    </div>

                    <div class="tab-pane-JE" id="form">

                        <div class="form-header-JE">
                            <h2 class="h2-JE" id="formTitle">Agregar Nuevo Empleado</h2>
                            <button class="btn-secondary-JE" id="cancelForm">
                                <span class="material-icons-sharp">close</span>
                                Cancelar
                            </button>
                        </div>

                        <form class="product-form-JE" id="employeeForm">
                            <div class="form-section-JE">
                                <h3 class="h3-JE">Información Personal</h3>

                                <div class="form-row-JE">
                                    <div class="form-group-JE">
                                        <label for="employeeName">Nombre Completo *</label>
                                        <input type="text" id="employeeName" name="name" required>
                                    </div>

                                    <div class="form-group-JE">
                                        <label for="employeeEmail">Email *</label>
                                        <input type="email" id="employeeEmail" name="email" required>
                                    </div>
                                </div>

                                <div class="form-row-JE">
                                    <div class="form-group-JE">
                                        <label for="employeePhone">Teléfono</label>
                                        <input type="tel" id="employeePhone" name="phone">
                                    </div>

                                    <div class="form-group-JE">
                                        <label for="employeeHireDate">Fecha de Contratación *</label>
                                        <input type="date" id="employeeHireDate" name="hireDate" required>
                                    </div>
                                </div>

                                <div class="form-group-JE">
                                    <label for="employeeAddress">Dirección</label>
                                    <textarea id="employeeAddress" name="address" rows="3"></textarea>
                                </div>
                            </div>

                            <div class="form-section-JE">
                                <h3 class="h3-JE">Información Laboral</h3>

                                <div class="form-row-JE">
                                    <div class="form-group-JE">
                                        <label for="employeePosition">Puesto *</label>
                                        <input type="text" id="employeePosition" name="position" required>
                                    </div>

                                    <div class="form-group-JE">
                                        <label for="employeeDepartment">Departamento *</label>
                                        <select id="employeeDepartment" name="department" required>
                                            <option value="">Seleccionar departamento</option>
                                            <option value="ventas">Ventas</option>
                                            <option value="marketing">Marketing</option>
                                            <option value="recursos_humanos">Recursos Humanos</option>
                                            <option value="operaciones">Operaciones</option>
                                            <option value="ti">TI</option>
                                            <option value="contabilidad">Contabilidad</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row-JE">
                                    <div class="form-group-JE">
                                        <label for="employeeSalary">Salario Base</label>
                                        <div class="input-with-icon-JE">
                                            <span class="material-icons-sharp">attach_money</span>
                                            <input type="number" id="employeeSalary" name="salary" step="0.01">
                                        </div>
                                    </div>

                                    <div class="form-group-JE">
                                        <label for="employeeRole">Rol de Acceso</label>
                                        <select id="employeeRole" name="role">
                                            <option value="empleado">Empleado</option>
                                            <option value="gerente">Gerente</option>
                                            <option value="admin">Administrador</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section-JE">
                                <h3 class="h3-JE">Foto de Perfil</h3>

                                <div class="image-upload-JE">
                                    <div class="image-preview-JE" id="imagePreview">
                                        <span class="material-icons-sharp">add_photo_alternate</span>
                                        <p class="p-JE">Haz clic para subir una foto</p>
                                    </div>
                                    <input type="file" id="employeeImage" name="image" accept="image/*"
                                        style="display: none;">
                                </div>
                            </div>

                            <div class="form-section-JE">
                                <h3 class="h3-JE">Configuración</h3>

                                <div class="form-row-JE">
                                    <div class="form-group-JE">
                                        <label class="checkbox-label-JE">
                                            <input type="checkbox" id="employeeActive" name="active" checked>
                                            <span class="checkmark-JE"></span>
                                            Empleado activo
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions-JE">
                                <button type="button" class="btn-secondary-JE" id="resetForm">
                                    <span class="material-icons-sharp">refresh</span>
                                    Limpiar
                                </button>
                                <button type="submit" class="btn-primary-JE">
                                    <span class="material-icons-sharp">save</span>
                                    <span id="submitText">Guardar Empleado</span>
                                </button>
                            </div>

                        </form>

                    </div>

                </div>
            </div>

        </main>

        <div class="right-JE">

            <div class="top-JE">
                <button id="menu-btn-JE">
                    <span class="material-icons-sharp">menu</span>
                </button>
                <div class="theme-toggler-JE">
                    <span class="material-icons-sharp active-JE">light_mode</span>
                    <span class="material-icons-sharp">dark_mode</span>
                </div>
                <div class="profile-JE">
                    <div class="info-JE">
                        <p class="p-JE">Hey <b class="b-JE" th:text="${usuarioInfo.nombre}"></b></p>
                        <small class="small-JE text-muted-JE" th:text="${usuarioInfo.rol}"></small>
                    </div>
                    <div class="profile-photo-JE">
                        <img class="img-JE" src="./images/profile-1.jpg" alt="Foto de Perfil">
                    </div>
                </div>
            </div>

            <div class="quick-actions-JE">
                <h2 class="h2-JE">Acciones Rápidas</h2>

                <button class="quick-action-btn-JE" id="addEmployeeBtn">
                    <span class="material-icons-sharp">person_add</span>
                    <div class="action-content-JE">
                        <h4 class="h4-JE">Nuevo Empleado</h4>
                        <p class="p-JE text-muted-JE">Añadir nuevo miembro al equipo</p>
                    </div>
                </button>

                <button class="quick-action-btn-JE" id="importEmployeesBtn">
                    <span class="material-icons-sharp">upload</span>
                    <div class="action-content-JE">
                        <h4 class="h4-JE">Importar CSV</h4>
                        <p class="p-JE text-muted-JE">Cargar datos de empleados masivamente</p>
                    </div>
                </button>

                <button class="quick-action-btn-JE" id="exportEmployeesBtn">
                    <span class="material-icons-sharp">download</span>
                    <div class="action-content-JE">
                        <h4 class="h4-JE">Exportar Datos</h4>
                        <p class="p-JE text-muted-JE">Descargar lista de empleados</p>
                    </div>
                </button>
            </div>

            <div class="inventory-alerts-JE">
                <h2 class="h2-JE">Alertas de Personal</h2>

                <div class="alert-item-JE critical-JE">
                    <div class="alert-icon-JE">
                        <span class="material-icons-sharp">error</span>
                    </div>
                    <div class="alert-content-JE">
                        <h4 class="h4-JE">Contratos por Vencer</h4>
                        <p class="p-JE">2 contratos en los próximos 30 días</p>
                        <button class="alert-action-JE">Revisar</button>
                    </div>
                </div>

                <div class="alert-item-JE warning-JE">
                    <div class="alert-icon-JE">
                        <span class="material-icons-sharp">warning</span>
                    </div>
                    <div class="alert-content-JE">
                        <h4 class="h4-JE">Evaluaciones Pendientes</h4>
                        <p class="p-JE">5 evaluaciones de desempeño atrasadas</p>
                        <button class="alert-action-JE">Gestionar</button>
                    </div>
                </div>

                <div class="alert-item-JE info-JE">
                    <div class="alert-icon-JE">
                        <span class="material-icons-sharp">info</span>
                    </div>
                    <div class="alert-content-JE">
                        <h4 class="h4-JE">Próximos Cumpleaños</h4>
                        <p class="p-JE">¡2 empleados cumplen años esta semana!</p>
                        <button class="alert-action-JE">Ver Detalles</button>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <div class="modal-JE" id="confirmModal">
        <div class="modal-content-JE">
            <div class="modal-header-JE">
                <h3 class="h3-JE" id="modalTitle">Confirmar Acción</h3>
                <span class="modal-close-JE" id="modalClose">
                    <span class="material-icons-sharp">close</span>
                </span>
            </div>
            <div class="modal-body-JE">
                <p class="p-JE" id="modalMessage">¿Estás seguro de que deseas realizar esta acción?</p>
            </div>
            <div class="modal-footer-JE">
                <button class="btn-secondary-JE" id="modalCancel">Cancelar</button>
                <button class="btn-danger-JE" id="modalConfirm">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="./js/empleados.js"></script>

</body>

</html>