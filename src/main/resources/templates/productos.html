<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dash Flow - Control de Finanzas</title>

  <!-- Icons de Google -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp">

  <!-- CSS Externo -->
  <link rel="stylesheet" href="./css/productos.css">

  <script defer src="./js/script.js"></script>
</head>

<body>

  <div class="container-JE">

    <!-- INICIO DE LA BARRA DE NAVEGACIÓN -->

    <aside class="aside-JE">
      <div class="top-JE">

        <div class="logo-JE">
          <img class="img-JE" src="./images/logo-dashboard.png" alt="logo">
          <h2 class="h2-JE">DASH <span class="peligro-JE">FLOW</span></h2>
        </div>

        <div class="close-JE" id="close-btn-JE">
          <span class="material-icons-sharp">close</span>
        </div>

      </div>


      <div class="sidebar-JE">

        <a th:href="@{/dashboard}" class="hipervinculo-JE">
          <span class="material-icons-sharp">dashboard</span>
          <h3 class="h3-JE">Dashboard</h3>
        </a>

        <a th:href="@{/cuenta}" class="hipervinculo-JE">
          <span class="material-icons-sharp">person_outline</span>
          <h3 class="h3-JE">Cuenta</h3>
        </a>

        <a th:href="@{/productos}" class="hipervinculo-JE active-JE">
          <span class="material-icons-sharp">inventory</span>
          <h3 class="h3-JE">Productos</h3>
        </a>

        <a th:href="@{/ingresos}" class="hipervinculo-JE">
          <span class="material-icons-sharp">insights</span>
          <h3 class="h3-JE">Flujo de Ingresos</h3>
        </a>

        <a th:href="@{/pedidos}" class="hipervinculo-JE">
          <span class="material-icons-sharp">list_alt</span>
          <h3 class="h3-JE">Pedidos</h3>
          <span class="message-count-danger-JE">26</span>
        </a>

        <a th:href="@{/empleados}" class="hipervinculo-JE">
          <span class="material-icons-sharp">badge</span>
          <h3 class="h3-JE">Empleados</h3>
        </a>

        <a th:href="@{/tiers}" class="hipervinculo-JE">
          <span class="material-icons-sharp">workspace_premium</span>
          <h3 class="h3-JE">Tiers</h3>
          <span class="message-count-success-JE">Free</span>
        </a>

        <a th:href="@{/reportes}" class="hipervinculo-JE">
          <span class="material-icons-sharp">error_outline</span>
          <h3 class="h3-JE">Reportes</h3>
        </a>

        <form id="logoutForm" th:action="@{/logout}" method="post" style="display:none;"></form>
        <a onclick="document.getElementById('logoutForm').submit();" class="hipervinculo-JE" style="cursor: pointer;">
          <span class="material-icons-sharp">logout</span>
          <h3 class="h3-JE">Salir</h3>
        </a>

      </div>
    </aside>

    <!-- FIN DE LA BARRA DE NAVEGACIÓN -->

    <!-- INICIO DEL CONTENIDO PRINCIPAL MAIN -->

    <main class="main-JE">

      <!-- HEADER DE LA PÁGINA -->
      <div class="page-header-JE">
        <h1 class="h1-JE">Gestión de Productos</h1>
      </div>

      <!-- ESTADÍSTICAS RÁPIDAS -->

      <!-- NAVEGACIÓN DE PESTAÑAS -->
      <div class="products-tabs-JE">
        <div class="tab-header-JE">
          <div class="tab-item-JE active-tab-JE" data-tab="dashboard">
            <span class="material-icons-sharp">analytics</span>
            <h3 class="h3-JE">Dashboard</h3>
          </div>
          <div class="tab-item-JE" data-tab="products">
            <span class="material-icons-sharp">inventory_2</span>
            <h3 class="h3-JE">Lista de Productos</h3>
          </div>
          <div class="tab-item-JE" data-tab="form">
            <span class="material-icons-sharp">add_box</span>
            <h3 class="h3-JE">Agregar/Editar</h3>
          </div>
        </div>

        <!-- CONTENIDO DE PESTAÑAS -->
        <div class="tab-content-JE">

          <!-- PESTAÑA DASHBOARD -->
          <div class="tab-pane-JE active-pane-JE" id="dashboard">

            <!-- ESTADÍSTICAS PRINCIPALES -->
            <div class="stats-grid-JE">
              <div class="stat-card-JE">
                <div class="stat-icon-JE">
                  <span class="material-icons-sharp">inventory</span>
                </div>
                <div class="stat-content-JE">
                  <h3 class="h3-JE">Total Productos</h3>
                  <h2 class="h2-JE">1,247</h2>
                  <p class="p-JE exito-JE">+12% este mes</p>
                </div>
              </div>

              <div class="stat-card-JE">
                <div class="stat-icon-JE">
                  <span class="material-icons-sharp">trending_up</span>
                </div>
                <div class="stat-content-JE">
                  <h3 class="h3-JE">Productos Activos</h3>
                  <h2 class="h2-JE">1,156</h2>
                  <p class="p-JE exito-JE">92.7% del total</p>
                </div>
              </div>

              <div class="stat-card-JE">
                <div class="stat-icon-JE">
                  <span class="material-icons-sharp">warning</span>
                </div>
                <div class="stat-content-JE">
                  <h3 class="h3-JE">Stock Bajo</h3>
                  <h2 class="h2-JE">23</h2>
                  <p class="p-JE advertencia-JE">Requiere atención</p>
                </div>
              </div>

              <div class="stat-card-JE">
                <div class="stat-icon-JE">
                  <span class="material-icons-sharp">remove_circle</span>
                </div>
                <div class="stat-content-JE">
                  <h3 class="h3-JE">Sin Stock</h3>
                  <h2 class="h2-JE">8</h2>
                  <p class="p-JE peligro-JE">Crítico</p>
                </div>
              </div>
            </div>

            <!-- PRODUCTOS DESTACADOS -->
            <div class="featured-products-JE">
              <h2 class="h2-JE">Productos Destacados</h2>

              <div class="featured-grid-JE">

                <!-- PRODUCTO MÁS VENDIDO DE LA SEMANA -->
                <div class="featured-card-JE">
                  <div class="featured-header-JE">
                    <div class="featured-badge-JE week-JE">
                      <span class="material-icons-sharp">star</span>
                      Más Vendido - Semana
                    </div>
                  </div>
                  <div class="product-image-JE">
                    <img src="/placeholder.svg?height=120&width=120" alt="Producto">
                  </div>
                  <div class="product-info-JE">
                    <h3 class="h3-JE">Smartphone Galaxy Pro</h3>
                    <p class="p-JE text-muted-JE">Categoría: Electrónicos</p>
                    <div class="product-stats-JE">
                      <div class="stat-JE">
                        <span class="material-icons-sharp">shopping_cart</span>
                        <span>156 vendidos</span>
                      </div>
                      <div class="stat-JE">
                        <span class="material-icons-sharp">attach_money</span>
                        <span>$89,340</span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- PRODUCTO MÁS VENDIDO DEL MES -->
                <div class="featured-card-JE">
                  <div class="featured-header-JE">
                    <div class="featured-badge-JE month-JE">
                      <span class="material-icons-sharp">emoji_events</span>
                      Más Vendido - Mes
                    </div>
                  </div>
                  <div class="product-image-JE">
                    <img src="/placeholder.svg?height=120&width=120" alt="Producto">
                  </div>
                  <div class="product-info-JE">
                    <h3 class="h3-JE">Laptop Gaming X1</h3>
                    <p class="p-JE text-muted-JE">Categoría: Computadoras</p>
                    <div class="product-stats-JE">
                      <div class="stat-JE">
                        <span class="material-icons-sharp">shopping_cart</span>
                        <span>423 vendidos</span>
                      </div>
                      <div class="stat-JE">
                        <span class="material-icons-sharp">attach_money</span>
                        <span>$634,500</span>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>

          </div>

          <!-- PESTAÑA LISTA DE PRODUCTOS -->
          <div class="tab-pane-JE" id="products">

            <!-- FILTROS Y BÚSQUEDA -->
            <div class="filters-section-JE">
              <div class="search-box-JE">
                <span class="material-icons-sharp">search</span>
                <input type="text" placeholder="Buscar productos..." id="searchInput">
              </div>

              <div class="filters-JE">
                <select id="categoryFilter">
                  <option value="">Todas las categorías</option>
                  <option value="electronicos">Electrónicos</option>
                  <option value="ropa">Ropa</option>
                  <option value="hogar">Hogar</option>
                  <option value="deportes">Deportes</option>
                </select>

                <select id="statusFilter">
                  <option value="">Todos los estados</option>
                  <option value="activo">Activo</option>
                  <option value="inactivo">Inactivo</option>
                  <option value="agotado">Agotado</option>
                </select>

                <button class="btn-secondary-JE" id="clearFilters">
                  <span class="material-icons-sharp">clear</span>
                  Limpiar
                </button>
              </div>
            </div>

            <!-- TABLA DE PRODUCTOS -->
            <div class="products-table-JE">
              <table id="productsTable">
                <thead>
                  <tr>
                    <th>
                      <input type="checkbox" id="selectAll">
                    </th>
                    <th>Imagen</th>
                    <th>Producto</th>
                    <th>Categoría</th>
                    <th>Precio</th>
                    <th>Stock</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="productsTableBody">
                  <!-- Los productos se cargarán dinámicamente -->
                </tbody>
              </table>
            </div>

            <!-- PAGINACIÓN -->
            <div class="pagination-JE">
              <button class="pagination-btn-JE" id="prevPage">
                <span class="material-icons-sharp">chevron_left</span>
              </button>
              <div class="pagination-info-JE">
                <span>Página <span id="currentPage">1</span> de <span id="totalPages">10</span></span>
              </div>
              <button class="pagination-btn-JE" id="nextPage">
                <span class="material-icons-sharp">chevron_right</span>
              </button>
            </div>

            <!-- ACCIONES MASIVAS -->
            <div class="bulk-actions-JE" id="bulkActions" style="display: none;">
              <div class="bulk-info-JE">
                <span id="selectedCount">0</span> productos seleccionados
              </div>
              <div class="bulk-buttons-JE">
                <button class="btn-secondary-JE" id="bulkActivate">
                  <span class="material-icons-sharp">check_circle</span>
                  Activar
                </button>
                <button class="btn-secondary-JE" id="bulkDeactivate">
                  <span class="material-icons-sharp">cancel</span>
                  Desactivar
                </button>
                <button class="btn-danger-JE" id="bulkDelete">
                  <span class="material-icons-sharp">delete</span>
                  Eliminar
                </button>
              </div>
            </div>

          </div>

          <!-- PESTAÑA FORMULARIO -->
          <div class="tab-pane-JE" id="form">

            <div class="form-header-JE">
              <h2 class="h2-JE" id="formTitle">Agregar Nuevo Producto</h2>
              <button class="btn-secondary-JE" id="cancelForm">
                <span class="material-icons-sharp">close</span>
                Cancelar
              </button>
            </div>

            <form class="product-form-JE" id="productForm">

              <!-- INFORMACIÓN BÁSICA -->
              <div class="form-section-JE">
                <h3 class="h3-JE">Información Básica</h3>

                <div class="form-row-JE">
                  <div class="form-group-JE">
                    <label for="productName">Nombre del Producto *</label>
                    <input type="text" id="productName" name="name" required>
                  </div>

                  <div class="form-group-JE">
                    <label for="productSku">SKU *</label>
                    <input type="text" id="productSku" name="sku" required>
                  </div>
                </div>

                <div class="form-row-JE">
                  <div class="form-group-JE">
                    <label for="productCategory">Categoría *</label>
                    <select id="productCategory" name="category" required>
                      <option value="">Seleccionar categoría</option>
                      <option value="electronicos">Electrónicos</option>
                      <option value="ropa">Ropa</option>
                      <option value="hogar">Hogar</option>
                      <option value="deportes">Deportes</option>
                    </select>
                  </div>

                  <div class="form-group-JE">
                    <label for="productBrand">Marca</label>
                    <input type="text" id="productBrand" name="brand">
                  </div>
                </div>

                <div class="form-group-JE">
                  <label for="productDescription">Descripción</label>
                  <textarea id="productDescription" name="description" rows="4"></textarea>
                </div>
              </div>

              <!-- PRECIOS E INVENTARIO -->
              <div class="form-section-JE">
                <h3 class="h3-JE">Precios e Inventario</h3>

                <div class="form-row-JE">
                  <div class="form-group-JE">
                    <label for="productPrice">Precio de Venta *</label>
                    <div class="input-with-icon-JE">
                      <span class="material-icons-sharp">attach_money</span>
                      <input type="number" id="productPrice" name="price" step="0.01" required>
                    </div>
                  </div>

                  <div class="form-group-JE">
                    <label for="productCost">Costo</label>
                    <div class="input-with-icon-JE">
                      <span class="material-icons-sharp">attach_money</span>
                      <input type="number" id="productCost" name="cost" step="0.01">
                    </div>
                  </div>
                </div>

                <div class="form-row-JE">
                  <div class="form-group-JE">
                    <label for="productStock">Stock Actual *</label>
                    <input type="number" id="productStock" name="stock" required>
                  </div>

                  
              </div>

              <!-- IMAGEN DEL PRODUCTO -->
              <div class="form-section-JE">
                <h3 class="h3-JE">Imagen del Producto</h3>

                <div class="image-upload-JE">
                  <div class="image-preview-JE" id="imagePreview">
                    <span class="material-icons-sharp">add_photo_alternate</span>
                    <p class="p-JE">Haz clic para subir una imagen</p>
                  </div>
                  <input type="file" id="productImage" name="image" accept="image/*" style="display: none;">
                </div>
              </div>

              <!-- CONFIGURACIÓN -->
              <div class="form-section-JE">
                <h3 class="h3-JE">Configuración</h3>

                <div class="form-row-JE">
                  <div class="form-group-JE">
                    <label class="checkbox-label-JE">
                      <input type="checkbox" id="productActive" name="active" checked>
                      <span class="checkmark-JE"></span>
                      Producto activo
                    </label>
                  </div>

                  <div class="form-group-JE">
                    <label class="checkbox-label-JE">
                      <input type="checkbox" id="productFeatured" name="featured">
                      <span class="checkmark-JE"></span>
                      Producto destacado
                    </label>
                  </div>
                </div>
              </div>

              <!-- BOTONES DE ACCIÓN -->
              <div class="form-actions-JE">
                <button type="button" class="btn-secondary-JE" id="resetForm">
                  <span class="material-icons-sharp">refresh</span>
                  Limpiar
                </button>
                <button type="submit" class="btn-primary-JE">
                  <span class="material-icons-sharp">save</span>
                  <span id="submitText">Guardar Producto</span>
                </button>
              </div>

            </form>

          </div>

        </div>
      </div>

    </main>

    <!-- FIN DEL CONTENIDO PRINCIPAL MAIN -->

    <!-- INICIO DEL CONTENIDO DE LA DERECHA -->

    <div class="right-JE">

      <!-- INICIO DE LAS OPCIONES DE LOGIN Y MODO OSCURO -->

      <div class="top-JE">
        <button id="menu-btn-JE">
          <span class="material-icons-sharp">menu</span>
        </button>
        <div class="theme-toggler-JE">
          <span class="material-icons-sharp active-JE">light_mode</span>
          <span class="material-icons-sharp">dark_mode</span>
        </div>
        <div class="profile-JE">
          <div class="info-JE">
            <p class="p-JE">Hey <b class="b-JE">Daniel</b></p>
            <small class="small-JE text-muted-JE">Admin</small>
          </div>
          <div class="profile-photo-JE">
            <img class="img-JE" src="./images/profile-1.jpg" alt="Foto de Perfil">
          </div>
        </div>
      </div>

      <!-- FIN DE LAS OPCIONES DE LOGIN Y MODO OSCURO -->

      <!-- INICIO DE ACCIONES RÁPIDAS -->

      <div class="quick-actions-JE">
        <h2 class="h2-JE">Acciones Rápidas</h2>

        <button class="quick-action-btn-JE" id="addProductBtn">
          <span class="material-icons-sharp">add</span>
          <div class="action-content-JE">
            <h4 class="h4-JE">Nuevo Producto</h4>
            <p class="p-JE text-muted-JE">Agregar producto al inventario</p>
          </div>
        </button>

        <button class="quick-action-btn-JE" id="importProductsBtn">
          <span class="material-icons-sharp">upload</span>
          <div class="action-content-JE">
            <h4 class="h4-JE">Importar CSV</h4>
            <p class="p-JE text-muted-JE">Cargar productos masivamente</p>
          </div>
        </button>

        <button class="quick-action-btn-JE" id="exportProductsBtn">
          <span class="material-icons-sharp">download</span>
          <div class="action-content-JE">
            <h4 class="h4-JE">Exportar Datos</h4>
            <p class="p-JE text-muted-JE">Descargar lista de productos</p>
          </div>
        </button>
      </div>

      <!-- FIN DE ACCIONES RÁPIDAS -->

      <!-- INICIO DE ALERTAS DE INVENTARIO -->

      <div class="inventory-alerts-JE">
        <h2 class="h2-JE">Alertas de Inventario</h2>

        <div class="alert-item-JE critical-JE">
          <div class="alert-icon-JE">
            <span class="material-icons-sharp">error</span>
          </div>
          <div class="alert-content-JE">
            <h4 class="h4-JE">Stock Crítico</h4>
            <p class="p-JE">8 productos sin stock</p>
            <button class="alert-action-JE">Ver Productos</button>
          </div>
        </div>

        <div class="alert-item-JE warning-JE">
          <div class="alert-icon-JE">
            <span class="material-icons-sharp">warning</span>
          </div>
          <div class="alert-content-JE">
            <h4 class="h4-JE">Stock Bajo</h4>
            <p class="p-JE">23 productos con stock bajo</p>
            <button class="alert-action-JE">Revisar</button>
          </div>
        </div>

        <div class="alert-item-JE info-JE">
          <div class="alert-icon-JE">
            <span class="material-icons-sharp">info</span>
          </div>
          <div class="alert-content-JE">
            <h4 class="h4-JE">Productos Inactivos</h4>
            <p class="p-JE">91 productos sin ventas</p>
            <button class="alert-action-JE">Analizar</button>
          </div>
        </div>
      </div>

      <!-- FIN DE ALERTAS DE INVENTARIO -->

    </div>

    <!-- FIN DEL CONTENIDO DE LA DERECHA -->
  </div>

  <!-- Modal de confirmación -->
  <div class="modal-JE" id="confirmModal">
    <div class="modal-content-JE">
      <div class="modal-header-JE">
        <h3 class="h3-JE" id="modalTitle">Confirmar Acción</h3>
        <span class="modal-close-JE" id="modalClose">
          <span class="material-icons-sharp">close</span>
        </span>
      </div>
      <div class="modal-body-JE">
        <p class="p-JE" id="modalMessage">¿Estás seguro de que deseas realizar esta acción?</p>
      </div>
      <div class="modal-footer-JE">
        <button class="btn-secondary-JE" id="modalCancel">Cancelar</button>
        <button class="btn-danger-JE" id="modalConfirm">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- Script para la funcionalidad de productos -->
  <script src="./js/productos.js"></script>

</body>

</html>